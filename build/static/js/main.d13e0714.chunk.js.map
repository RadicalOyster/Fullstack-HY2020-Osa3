{"version":3,"sources":["components/ShowPersons.js","components/PersonForm.js","components/FilterField.js","services/persons.js","App.js","index.js"],"names":["ShowPersons","persons","filter","removePerson","person","name","toLowerCase","includes","map","i","key","id","number","onClick","PersonForm","props","console","log","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","FilterField","handleFilterChange","axios","get","newObject","delete","baseUrl","put","App","useState","setPersons","useEffect","personsService","then","response","data","setMessage","length","setNewName","setNewNumber","setFilter","message","className","content","event","target","preventDefault","window","confirm","setTimeout","personObject","personToRemove","ReactDOM","render","document","getElementById"],"mappings":"+NAYeA,EAVK,SAAC,GAAqC,IAApCC,EAAmC,EAAnCA,QAASC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,aACnC,OACE,6BACCF,EAAQC,QAAO,SAAAE,GAAM,OAAIA,EAAOC,KAAKC,cAAcC,SAASL,EAAOI,kBAAgBE,KAAI,SAACJ,EAAQK,GAAT,OACtF,uBAAGC,IAAKN,EAAOO,IAAKP,EAAOC,KAA3B,IAAkCD,EAAOQ,OAAzC,IAAiD,4BAAQC,QAAS,kBAAMV,EAAaC,KAApC,gBCiB1CU,EArBI,SAACC,GAEhB,OADFC,QAAQC,IAAI,eAEV,0BAAMC,SAAUH,EAAMI,WACtB,sCACQ,2BACNC,MAAOL,EAAMM,QACbC,SAAUP,EAAMQ,oBAElB,wCACU,2BACRH,MAAOL,EAAMS,UACbF,SAAUP,EAAMU,sBAElB,6BACE,4BAAQC,KAAK,UAAb,UCLWC,EAVG,SAACZ,GACjB,OACE,iDACiB,2BACjBK,MAAOL,EAAMb,OACboB,SAAUP,EAAMa,uB,gBCYP,EAhBA,WACX,OAAOC,IAAMC,IAHD,gBAkBD,EAZA,SAAAC,GACXf,QAAQC,IAAIc,IAWD,EAJM,SAAC3B,GAClB,OAAOyB,IAAMG,OAAOC,eAAgB7B,EAAOO,KAGhC,EARA,SAACA,EAAIoB,GAChB,OAAOF,IAAMK,IAAN,UAXK,cAWL,YAAwBvB,GAAMoB,ICqH1BI,EA3HH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTnC,EADS,KACAoC,EADA,KAGhBC,qBAAU,WACRC,IAEGC,MAAK,SAAAC,GACJJ,EAAWI,EAASC,SAExBC,EAAW,QACV,IAEH3B,QAAQC,IAAI,SAAUhB,EAAQ2C,OAAQ,WAZtB,MAccR,mBAAS,IAdvB,mBAcTf,EAdS,KAcAwB,EAdA,OAekBT,mBAAS,IAf3B,mBAeTZ,EAfS,KAeEsB,EAfF,OAgBYV,mBAAS,IAhBrB,mBAgBTlC,EAhBS,KAgBD6C,EAhBC,OAiBcX,mBAAS,IAjBvB,mBAiBTY,EAjBS,KAiBAL,EAjBA,KAmGhB,OACE,6BACE,yCACA,mBAnFiB,WACnB,OAAgB,OAAZK,EACK,KAIP,yBAAKC,UAAU,gBAAgBD,EAAQE,WA6EvC,MACA,kBAAC,EAAD,CACEhD,OAAQA,EACR0B,mBAXqB,SAACuB,GAC1BnC,QAAQC,IAAIkC,EAAMC,OAAOhC,OACzB2B,EAAUI,EAAMC,OAAOhC,UAUrB,uCACA,kBAAC,EAAD,CACED,UA/EY,SAACgC,GAEjB,GADAA,EAAME,iBAC2D,IAA7DpD,EAAQC,QAAO,SAAAE,GAAM,OAAIA,EAAOC,OAASgB,KAASuB,OAAc,CAClE,GAAIU,OAAOC,QAAP,UAAkBlC,EAAlB,+EAAwG,CAC1G,IAAIjB,EAASH,EAAQC,QAAO,SAAAE,GAAM,OAAIA,EAAOC,OAASgB,KAAS,GAC/DjB,EAAOQ,OAASY,EAChBe,EAAsBnC,EAAOO,GAAIP,GAC9BoC,MAAK,SAAAC,GACJF,IAEGC,MAAK,SAAAC,GACJJ,EAAWI,EAASC,YAS9B,OAJAC,EAAW,CAACO,QAAS,WAAa7B,EAAU,yBAC5CmC,YAAW,WACTb,EAAW,QACV,KAGL,IAAMc,EAAe,CACnBpD,KAAMgB,EACNT,OAAQY,GAGVR,QAAQC,IAAIwC,GAEZlB,EACUkB,GACPjB,MAAK,SAAAC,GACJJ,EAAWI,EAASC,SAExBC,EAAW,CAACO,QAAS,SAAW7B,EAAU,sBAC1CmC,YAAW,WACTb,EAAW,QACV,KACH3B,QAAQC,IAAIhB,IA0CRoB,QAASA,EACTE,iBA1BmB,SAAC4B,GACxBnC,QAAQC,IAAIkC,EAAMC,OAAOhC,OACzByB,EAAWM,EAAMC,OAAOhC,QAyBpBI,UAAWA,EACXC,mBAvBqB,SAAC0B,GAC1BnC,QAAQC,IAAIkC,EAAMC,OAAOhC,OACzB0B,EAAaK,EAAMC,OAAOhC,UAsBxB,uCACA,kBAAC,EAAD,CACEnB,QAASA,EACTC,OAAQA,EACRC,aA/Ce,SAACuD,GAChBJ,OAAOC,QAAQ,UAAYG,EAAerD,KAAO,MACnDkC,EACgBmB,GACblB,MAAK,SAAAC,GACJJ,EAAWpC,EAAQC,QAAO,SAAAE,GAAM,OAAIA,EAAOO,KAAO+C,EAAe/C,UAGvEgC,EAAW,CAACO,QAAS,WAAaQ,EAAerD,KAAO,wBACxDmD,YAAW,WACTb,EAAW,QACV,U,MClFPgB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.d13e0714.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst ShowPersons = ({persons, filter, removePerson}) => {\r\n    return (\r\n      <div>\r\n      {persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())).map((person, i) =>\r\n        <p key={person.id}>{person.name} {person.number} <button onClick={() => removePerson(person)}>delete</button></p>\r\n        )}\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default ShowPersons","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n  console.log(\"PERSON FORM\")\r\n    return(\r\n    <form onSubmit={props.addPerson}>\r\n    <div>\r\n      name: <input\r\n      value={props.newName}\r\n      onChange={props.handleNameChange}/>\r\n    </div>\r\n    <div>\r\n      number: <input\r\n      value={props.newNumber}\r\n      onChange={props.handleNumberChange}/>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst FilterField = (props) => {\r\n    return (\r\n      <div>\r\n      filter shown by: <input\r\n      value={props.filter}\r\n      onChange={props.handleFilterChange}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default FilterField","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    console.log(newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deletePerson = (person) => {\r\n    return axios.delete(baseUrl + \"/\" + person.id)\r\n}\r\n\r\nexport default { \r\n    getAll: getAll, \r\n    create: create, \r\n    deletePerson: deletePerson,\r\n    update: update\r\n  }","import React, { useState, useEffect } from 'react'\nimport ShowPersons from './components/ShowPersons'\nimport PersonForm from './components/PersonForm'\nimport FilterField from './components/FilterField'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n    setMessage(null)\n  }, [])\n\n  console.log('render', persons.length, 'persons')\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState([])\n\n  const Notification = () => {\n    if (message === null) {\n      return null;\n    }\n\n    return (\n      <div className='notification'>{message.content}</div>\n    )\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.filter(person => person.name === newName).length !== 0) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        let person = persons.filter(person => person.name === newName)[0]\n        person.number = newNumber\n        personsService.update(person.id, person)\n          .then(response => {\n            personsService\n              .getAll()\n              .then(response => {\n                setPersons(response.data)\n              })\n\n          })\n      }\n      setMessage({content: \"Updated \" + newName + \"'s phone number\"})\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      return\n    }\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    console.log(personObject)\n\n    personsService\n      .create(personObject)\n      .then(response => {\n        setPersons(response.data)\n      })\n    setMessage({content: \"Added \" + newName + \" to the phonebook\"})\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n    console.log(persons)\n  }\n\n  const removePerson = (personToRemove) => {\n    if (window.confirm(\"Delete \" + personToRemove.name + \"?\")) {\n      personsService\n        .deletePerson(personToRemove)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== personToRemove.id))\n        })\n    }\n    setMessage({content: \"Removed \" + personToRemove.name + \" from the phonebook\"})\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification/>\n      <FilterField\n        filter={filter}\n        handleFilterChange={handleFilterChange} />\n      <h1>Add new</h1>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <ShowPersons\n        persons={persons}\n        filter={filter}\n        removePerson={removePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}