{"version":3,"sources":["components/ShowPersons.js","components/PersonForm.js","components/FilterField.js","services/persons.js","App.js","index.js"],"names":["ShowPersons","persons","filter","removePerson","person","name","toLowerCase","includes","map","i","key","id","number","onClick","PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","FilterField","handleFilterChange","baseUrl","axios","get","newObject","post","delete","put","App","useState","setPersons","useEffect","personsService","then","response","data","setMessage","console","log","length","setNewName","setNewNumber","setFilter","message","className","content","event","target","preventDefault","window","confirm","concat","setTimeout","personToRemove","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ee28f8ac.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst ShowPersons = ({persons, filter, removePerson}) => {\r\n    return (\r\n      <div>\r\n      {persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())).map((person, i) =>\r\n        <p key={person.id}>{person.name} {person.number} <button onClick={() => removePerson(person)}>delete</button></p>\r\n        )}\r\n        </div>\r\n    )\r\n  }\r\n\r\nexport default ShowPersons","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return(\r\n    <form onSubmit={props.addPerson}>\r\n    <div>\r\n      name: <input\r\n      value={props.newName}\r\n      onChange={props.handleNameChange}/>\r\n    </div>\r\n    <div>\r\n      number: <input\r\n      value={props.newNumber}\r\n      onChange={props.handleNumberChange}/>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst FilterField = (props) => {\r\n    return (\r\n      <div>\r\n      filter shown by: <input\r\n      value={props.filter}\r\n      onChange={props.handleFilterChange}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default FilterField","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deletePerson = (person) => {\r\n    return axios.delete(baseUrl + \"/\" + person.id)\r\n}\r\n\r\nexport default { \r\n    getAll: getAll, \r\n    create: create, \r\n    deletePerson: deletePerson,\r\n    update: update\r\n  }","import React, { useState, useEffect } from 'react'\nimport ShowPersons from './components/ShowPersons'\nimport PersonForm from './components/PersonForm'\nimport FilterField from './components/FilterField'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n    setMessage(null)\n  }, [])\n\n  console.log('render', persons.length, 'persons')\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState([])\n\n  const Notification = () => {\n    if (message === null) {\n      return null;\n    }\n\n    return (\n      <div className='notification'>{message.content}</div>\n    )\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.filter(person => person.name === newName).length !== 0) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        let person = persons.filter(person => person.name === newName)[0]\n        person.number = newNumber\n        personsService.update(person.id, person)\n          .then(response => {\n            personsService\n              .getAll()\n              .then(response => {\n                console.log(response.data)\n                persons.concat(response.data)\n              })\n\n          })\n      }\n      setMessage({content: \"Updated \" + newName + \"'s phone number\"})\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n      return\n    }\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    personsService\n      .create(personObject)\n      .then(response => {\n            console.log(\"RESPONSE DATA \" + response.data)\n            persons.concat(response.data)\n            console.log(persons)\n          })\n\n    setMessage({content: \"Added \" + newName + \" to the phonebook\"})\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const removePerson = (personToRemove) => {\n    if (window.confirm(\"Delete \" + personToRemove.name + \"?\")) {\n      personsService\n        .deletePerson(personToRemove)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== personToRemove.id))\n        })\n    }\n    setMessage({content: \"Removed \" + personToRemove.name + \" from the phonebook\"})\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification/>\n      <FilterField\n        filter={filter}\n        handleFilterChange={handleFilterChange} />\n      <h1>Add new</h1>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <ShowPersons\n        persons={persons}\n        filter={filter}\n        removePerson={removePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}